<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
	<link rel="stylesheet" href="/css/bootstrap.min.css"/>
	<script type="text/javascript" src="/js/jquery-3.2.1.min.js"></script>
	<title>View All Students</title>
	<link rel="stylesheet" type="text/css" href="/datatables/datatables.css"/>
  	<script src="/datatables/datatables.js"></script>
  	<script>
	  	$(document).ready(function(){
	  	    $('#student_table').DataTable();
	  	});
  	</script>
</head>

<body>
	<nav th:replace="fragments/fragment :: navbar"></nav>
	<div th:replace="fragments/fragment :: header"></div>
	<h1>All Students</h1>
	
	<div class="container">
		<table id="student_table" class="table table-fit table-stripped">
			<thead>
				<tr>
					<th>No</th>
					<th>NPM</th>
					<th>Name</th>
					<th>GPA</th>
					<th>Status</th>
					<th>Update</th>
					<th>Delete</th>
				</tr>
			</thead>
			<tbody>
				<div th:each="student,iterationStatus: ${students}">
					<tr>
						<td th:text="${iterationStatus.count}"></td>
						<td th:text="${student.npm}"></td>
						<td th:text="${student.name}"></td>
						<td th:text="${student.gpa}"></td>
						<td th:if="${student.gpa>=3.49}">Cum Laude!</td>
						<td th:unless="${student.gpa>=3.49}">Sangat Memuaskan!</td>
						<td><a th:href="'/student/update/' + ${student.npm}">Update Data</a></td>
						<td><a th:href="'/student/delete/' + ${student.npm}">Delete Data</a></td>
					</tr>
				</div>
			</tbody>
		</table>
	</div>
	<div th:replace="fragments/fragment :: footer"></div>
</body>
</html>